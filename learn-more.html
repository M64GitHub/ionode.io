<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Learn More - IOnode</title>
  <meta name="description" content="Everything IOnode can do. The HAL protocol, device kinds, hackability, fleet management, and chip compatibility.">
  <meta name="author" content="Mario Schallner">
  <!-- Open Graph -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://ionode.io/learn-more.html">
  <meta property="og:title" content="Learn More - IOnode">
  <meta property="og:description" content="The HAL protocol, 14 device kinds, hackability contract, fleet management. Everything under the hood.">
  <meta property="og:site_name" content="IOnode">
  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Learn More - IOnode">
  <meta name="twitter:description" content="The HAL protocol, device kinds, hackability, fleet management. Everything IOnode can do.">
  <!-- Theme -->
  <meta name="theme-color" content="#ff8c00">
  <link rel="canonical" href="https://ionode.io/learn-more.html">
  <link rel="icon" href="assets/favicon.svg" type="image/svg+xml">
  <link rel="stylesheet" href="css/reset.css">
  <link rel="stylesheet" href="css/variables.css">
  <link rel="stylesheet" href="css/base.css">
  <link rel="stylesheet" href="css/components.css">
  <link rel="stylesheet" href="css/landing.css">
  <link rel="stylesheet" href="css/learn-more.css">
  <link rel="stylesheet" href="css/animations.css">
  <link rel="stylesheet" href="css/responsive.css">
</head>
<body>

  <!-- Navigation -->
  <header class="site-header">
    <div class="container">
      <a href="index.html" class="logo" aria-label="IOnode home">
        <img src="assets/logo.svg" width="32" height="32" alt="" aria-hidden="true">
        <span>IOnode</span>
      </a>
      <nav class="nav-links" aria-label="Main navigation">
        <a href="learn-more.html" class="active">Learn More</a>
        <a href="sensors.html">Sensors</a>
        <a href="fleet.html">Fleet</a>
        <a href="web-ui.html">Web UI</a>
        <a href="openclaw-integration.html">OpenClaw</a>
        <a href="flash.html">Flash</a>
        <a href="https://github.com/M64GitHub/IOnode" target="_blank" rel="noopener" class="btn btn-outline btn-sm">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"/></svg>
          GitHub
        </a>
      </nav>
      <button class="hamburger" aria-label="Toggle menu" aria-expanded="false">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </header>

  <!-- Page Hero -->
  <section class="page-hero">
    <div class="container">
      <h1 class="reveal">Everything IOnode can <span class="accent">do.</span></h1>
      <p class="reveal" style="--stagger: 1">From a single sensor to a fleet of 100 nodes - here's how it all works.</p>
    </div>
  </section>

  <!-- Table of Contents -->
  <section style="padding: var(--space-xl) 0 var(--space-2xl); border-bottom: 1px solid var(--border-subtle);">
    <div class="container">
      <div class="ref-grid reveal" style="grid-template-columns: repeat(4, 1fr); max-width: 900px; margin: 0 auto;">
        <a href="#how-it-works" class="ref-card" style="text-decoration: none; text-align: center;">
          <div class="ref-card-name" style="font-size: 0.85rem;">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: -2px; margin-right: 2px;"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>
            How It Works
          </div>
          <p>The big picture in 30 seconds</p>
        </a>
        <a href="#device-kinds" class="ref-card" style="text-decoration: none; text-align: center;">
          <div class="ref-card-name" style="font-size: 0.85rem;">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: -2px; margin-right: 2px;"><rect x="4" y="4" width="16" height="16" rx="2"/><path d="M9 1v3M15 1v3M9 20v3M15 20v3"/></svg>
            Device Kinds
          </div>
          <p>20 types across 6 categories</p>
        </a>
        <a href="#hackability" class="ref-card" style="text-decoration: none; text-align: center;">
          <div class="ref-card-name" style="font-size: 0.85rem;">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: -2px; margin-right: 2px;"><path d="M14.7 6.3a1 1 0 000 1.4l1.6 1.6a1 1 0 001.4 0l3.77-3.77a6 6 0 01-7.94 7.94l-6.91 6.91a2.12 2.12 0 01-3-3l6.91-6.91a6 6 0 017.94-7.94l-3.76 3.76z"/></svg>
            Built to Hack
          </div>
          <p>Add a sensor in 2 steps</p>
        </a>
        <a href="#fleet" class="ref-card" style="text-decoration: none; text-align: center;">
          <div class="ref-card-name" style="font-size: 0.85rem;">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: -2px; margin-right: 2px;"><polyline points="4 17 10 11 4 5"/><line x1="12" y1="19" x2="20" y2="19"/></svg>
            Fleet
          </div>
          <p>CLI, dashboard, events</p>
        </a>
      </div>
      <div class="ref-grid reveal" style="--stagger: 1; grid-template-columns: repeat(4, 1fr); max-width: 900px; margin: var(--space-md) auto 0;">
        <a href="#web-ui" class="ref-card" style="text-decoration: none; text-align: center;">
          <div class="ref-card-name" style="font-size: 0.85rem;">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: -2px; margin-right: 2px;"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"/><line x1="8" y1="21" x2="16" y2="21"/><line x1="12" y1="17" x2="12" y2="21"/></svg>
            Web UI
          </div>
          <p>On-device control panel</p>
        </a>
        <a href="#hal-protocol" class="ref-card" style="text-decoration: none; text-align: center;">
          <div class="ref-card-name" style="font-size: 0.85rem;">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: -2px; margin-right: 2px;"><path d="M16 18l6-6-6-6"/><path d="M8 6l-6 6 6 6"/></svg>
            NATS Subjects
          </div>
          <p>The protocol under the hood</p>
        </a>
        <a href="#chips" class="ref-card" style="text-decoration: none; text-align: center;">
          <div class="ref-card-name" style="font-size: 0.85rem;">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: -2px; margin-right: 2px;"><rect x="4" y="4" width="16" height="16" rx="2"/><path d="M9 1v3M15 1v3M9 20v3M15 20v3M1 9h3M1 15h3M20 9h3M20 15h3"/></svg>
            Chips
          </div>
          <p>Supported ESP32 variants</p>
        </a>
        <a href="https://github.com/M64GitHub/IOnode" target="_blank" rel="noopener" class="ref-card" style="text-decoration: none; text-align: center;">
          <div class="ref-card-name" style="font-size: 0.85rem;">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="vertical-align: -2px; margin-right: 2px;"><path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"/></svg>
            Source
          </div>
          <p>GitHub repo &amp; docs</p>
        </a>
      </div>
    </div>
  </section>

  <!-- How It Works -->
  <section id="how-it-works">
    <div class="container">
      <div class="section-header reveal">
        <h2>How It <span class="accent">Works</span></h2>
        <p>IOnode is a firmware. Flash it onto an ESP32, and the chip becomes a node on your NATS network. Every pin, sensor, and actuator gets a unique address. Send a message, get a response. That's it.</p>
      </div>
      <div class="arch-steps">
        <div class="arch-step reveal" style="--stagger: 0">
          <div class="arch-step-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>
          </div>
          <div>
            <h3>1. Flash the firmware</h3>
            <p style="color: var(--text-secondary);">From your <a href="flash.html" style="color: var(--accent);">browser</a> or PlatformIO. Takes 30 seconds. Works on any ESP32 - C6, S3, C3, or classic.</p>
          </div>
        </div>
        <div class="arch-step reveal" style="--stagger: 1">
          <div class="arch-step-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><path d="M1 6v16l7-4 8 4 7-4V2l-7 4-8-4-7 4z"/><path d="M8 2v16"/><path d="M16 6v16"/></svg>
          </div>
          <div>
            <h3>2. Connect to WiFi &amp; NATS</h3>
            <p style="color: var(--text-secondary);">On first boot, a setup portal appears. Enter your WiFi and NATS server address. One form, done.</p>
          </div>
        </div>
        <div class="arch-step reveal" style="--stagger: 2">
          <div class="arch-step-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><rect x="4" y="4" width="16" height="16" rx="2"/><path d="M9 1v3M15 1v3M9 20v3M15 20v3M1 9h3M1 15h3M20 9h3M20 15h3"/></svg>
          </div>
          <div>
            <h3>3. Your hardware is on the network</h3>
            <p style="color: var(--text-secondary);">Every GPIO pin, ADC channel, and registered sensor gets a NATS address. Read a temperature: <code style="color: var(--accent); background: var(--accent-dim); padding: 0.1rem 0.4rem; border-radius: 3px;">ionode read ionode-01 room_temp</code></p>
          </div>
        </div>
      </div>
      <div class="terminal reveal" style="--stagger: 3; max-width: 620px; margin: var(--space-3xl) auto 0;">
        <div class="terminal-header">
          <span class="terminal-dot"></span>
          <span class="terminal-dot"></span>
          <span class="terminal-dot"></span>
          <span class="terminal-title">the idea</span>
        </div>
        <div class="terminal-body">
<pre style="margin: 0; color: var(--text-secondary); line-height: 1.8;"><span style="color: var(--text-muted);">Every IOnode has a name. Every sensor has a name.</span>
<span style="color: var(--text-muted);">Put them together - that's the address.</span>

<span class="comment">$ ionode read ionode-01 room_temp</span>    <span style="color: var(--accent);">&rarr; 24.5</span>
<span class="comment">$ ionode write ionode-01 fan 1</span>       <span style="color: var(--accent);">&rarr; ok</span>
<span class="comment">$ ionode discover</span>                    <span style="color: var(--accent);">&rarr; all nodes respond</span>

<span style="color: var(--text-muted);">No SDK. No cloud. No API keys. Just NATS messages.</span></pre>
        </div>
      </div>
    </div>
  </section>

  <!-- Device Kinds -->
  <section id="device-kinds">
    <div class="container">
      <div class="section-header reveal">
        <h2>Device <span class="accent">Kinds</span></h2>
        <p>20 device types across 6 categories. Register via CLI, NATS, web UI, or <code>devices.json</code>.</p>
      </div>

      <div class="ref-grid reveal" style="--stagger: 0; grid-template-columns: repeat(3, 1fr); max-width: 960px;">
        <div class="ref-card">
          <div class="ref-card-name">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: -2px; margin-right: 4px;"><rect x="4" y="4" width="16" height="16" rx="2"/><path d="M9 1v3M15 1v3M9 20v3M15 20v3M1 9h3M1 15h3M20 9h3M20 15h3"/></svg>
            GPIO
          </div>
          <p><code>digital_in</code> · <code>digital_out</code> · <code>analog_in</code> · <code>pwm</code> · <code>relay</code> (with inversion)</p>
          <p style="color: var(--text-muted); font-size: 0.78rem; margin-top: var(--space-xs);">Direct pin access. Read switches, drive motors, toggle relays.</p>
        </div>
        <div class="ref-card">
          <div class="ref-card-name">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: -2px; margin-right: 4px;"><circle cx="12" cy="12" r="3"/><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/></svg>
            Analog Sensors
          </div>
          <p><code>ntc_10k</code> · <code>ldr</code></p>
          <p style="color: var(--text-muted); font-size: 0.78rem; margin-top: var(--space-xs);">Thermistor (Steinhart-Hart, EMA-smoothed) and light level (0–100%). One resistor, done.</p>
        </div>
        <div class="ref-card">
          <div class="ref-card-name">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: -2px; margin-right: 4px;"><path d="M22 11.08V12a10 10 0 11-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
            I2C Sensors
          </div>
          <p><code>i2c_bme280</code> · <code>i2c_bh1750</code> · <code>i2c_sht31</code> · <code>i2c_ads1115</code> · <code>i2c_generic</code></p>
          <p style="color: var(--text-muted); font-size: 0.78rem; margin-top: var(--space-xs);">Raw Wire.h drivers. Multi-channel, per-address caching. Any I2C sensor via <code>i2c_generic</code>.</p>
        </div>
        <div class="ref-card">
          <div class="ref-card-name">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: -2px; margin-right: 4px;"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"/><line x1="8" y1="21" x2="16" y2="21"/><line x1="12" y1="17" x2="12" y2="21"/></svg>
            OLED Display
          </div>
          <p><code>ssd1306</code></p>
          <p style="color: var(--text-muted); font-size: 0.78rem; margin-top: var(--space-xs);">128×64 or 128×32 text display. Template engine with live sensor tokens, auto-refreshes every 5s.</p>
        </div>
        <div class="ref-card">
          <div class="ref-card-name">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: -2px; margin-right: 4px;"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>
            Built-in
          </div>
          <p><code>internal_temp</code> · <code>rgb_led</code> · <code>clock_hour</code> · <code>clock_minute</code> · <code>clock_hhmm</code></p>
          <p style="color: var(--text-muted); font-size: 0.78rem; margin-top: var(--space-xs);">No wiring needed. Chip temperature, RGB LED, and NTP clock — ready at boot.</p>
        </div>
        <div class="ref-card">
          <div class="ref-card-name">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: -2px; margin-right: 4px;"><path d="M12 2L2 7l10 5 10-5-10-5z"/><path d="M2 17l10 5 10-5"/><path d="M2 12l10 5 10-5"/></svg>
            Virtual
          </div>
          <p><code>nats_value</code> · <code>serial_text</code></p>
          <p style="color: var(--text-muted); font-size: 0.78rem; margin-top: var(--space-xs);">Subscribe to NATS subjects or read UART lines. Bridge external data into the device registry.</p>
        </div>
      </div>

      <div style="text-align: center; margin-top: var(--space-xl);">
        <a href="sensors.html" class="arch-link reveal" style="--stagger: 1">Full sensor &amp; display reference &rarr;</a>
      </div>

      <div class="terminal reveal" style="--stagger: 2; max-width: 620px; margin: var(--space-3xl) auto 0;">
        <div class="terminal-header">
          <span class="terminal-dot"></span>
          <span class="terminal-dot"></span>
          <span class="terminal-dot"></span>
          <span class="terminal-title">devices.json</span>
        </div>
        <div class="terminal-body">
<pre style="margin: 0; color: var(--text-secondary); font-size: 0.82rem;">[
  {"n":"bme_temp",  "k":"i2c_bme280", "p":0,  "u":"C",  "i":false, "ia":118},
  {"n":"bme_humi",  "k":"i2c_bme280", "p":1,  "u":"%",  "i":false, "ia":118},
  {"n":"light",     "k":"i2c_bh1750", "p":0,  "u":"lux","i":false, "ia":35},
  {"n":"display",   "k":"ssd1306",    "p":0,  "u":"",   "i":false, "ia":60,
   "dt":"T:{bme_temp}C H:{bme_humi}%"},
  {"n":"heater",    "k":"relay",      "p":8,  "u":"",   "i":true},
  {"n":"fan",       "k":"pwm",        "p":9,  "u":"",   "i":false}
]</pre>
        </div>
      </div>
    </div>
  </section>

  <!-- Built to be Hacked -->
  <section id="hackability">
    <div class="container">
      <div class="section-header reveal">
        <h2>Built to be <span class="accent">Hacked</span></h2>
        <p>Adding a sensor type is a two-step process. No NATS code. No registration boilerplate.</p>
      </div>
      <div class="arch-steps">
        <div class="arch-step reveal" style="--stagger: 0">
          <div class="arch-step-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><path d="M16 18l6-6-6-6"/><path d="M8 6l-6 6 6 6"/></svg>
          </div>
          <div>
            <h3>1. Add the enum</h3>
            <div class="code-block" style="margin-top: var(--space-md);">
<pre style="margin: 0;"><span class="keyword">enum</span> DeviceKind {
    <span class="comment">// ... existing kinds ...</span>
    DEV_SENSOR_MY_SENSOR,      <span class="comment">// &larr; add here</span>
};</pre>
            </div>
          </div>
        </div>
        <div class="arch-step reveal" style="--stagger: 1">
          <div class="arch-step-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>
          </div>
          <div>
            <h3>2. Add the read case + string mapping</h3>
            <div class="code-block" style="margin-top: var(--space-md);">
<pre style="margin: 0;"><span class="keyword">case</span> DEV_SENSOR_MY_SENSOR: {
    result = readMyHardware(dev->pin);
    record_history = <span class="keyword">true</span>;
    <span class="keyword">break</span>;
}

<span class="comment">// deviceKindName:</span>
<span class="keyword">case</span> DEV_SENSOR_MY_SENSOR: <span class="keyword">return</span> <span class="string">"my_sensor"</span>;

<span class="comment">// kindFromString:</span>
<span class="keyword">if</span> (strcmp(s, <span class="string">"my_sensor"</span>) == 0) <span class="keyword">return</span> DEV_SENSOR_MY_SENSOR;</pre>
            </div>
          </div>
        </div>
      </div>
      <div class="terminal reveal" style="--stagger: 2; max-width: 620px; margin: var(--space-3xl) auto 0;">
        <div class="terminal-header">
          <span class="terminal-dot"></span>
          <span class="terminal-dot"></span>
          <span class="terminal-dot"></span>
          <span class="terminal-title">result</span>
        </div>
        <div class="terminal-body">
<pre style="margin: 0; color: var(--text-secondary);">Your sensor is now:
<span style="color: var(--accent);">&check;</span> Persisted in devices.json as {"k":"my_sensor"}
<span style="color: var(--accent);">&check;</span> Readable via nats req ionode-01.hal.my_sensor ""
<span style="color: var(--accent);">&check;</span> Listed in device.list and discovery responses
<span style="color: var(--accent);">&check;</span> Background-polled for history every 5 minutes
<span style="color: var(--accent);">&check;</span> Controllable via the web UI

<span style="color: var(--text-muted);">No NATS code. The HAL router handles it.</span></pre>
        </div>
      </div>
    </div>
  </section>

  <!-- The Web UI -->
  <section id="web-ui" class="architecture-deep">
    <div class="container">
      <div class="section-header reveal">
        <h2>The Web <span class="accent">UI</span></h2>
        <p>Each IOnode serves a control interface on port 80. Configure, monitor, and control from any browser.</p>
      </div>
      <div class="ref-grid reveal" style="grid-template-columns: repeat(4, 1fr);">
        <div class="ref-card">
          <div class="ref-card-name">Config</div>
          <p>WiFi, NATS, device name, timezone. Live devices.json editor.</p>
        </div>
        <div class="ref-card">
          <div class="ref-card-name">Devices</div>
          <p>All registered devices with kind-appropriate widgets. Add/remove devices.</p>
        </div>
        <div class="ref-card">
          <div class="ref-card-name">Pins</div>
          <p>Direct GPIO/ADC/PWM access. No registration needed. Quick wiring checks.</p>
        </div>
        <div class="ref-card">
          <div class="ref-card-name">Status</div>
          <p>Version, uptime, heap, WiFi signal, NATS connection state.</p>
        </div>
      </div>
      <div style="text-align: center; margin-top: var(--space-xl);">
        <a href="web-ui.html" class="arch-link reveal" style="--stagger: 1">Web UI showcase &rarr;</a>
      </div>
    </div>
  </section>

  <!-- Fleet Management -->
  <section id="fleet" class="architecture-deep">
    <div class="container">
      <div class="section-header reveal">
        <h2>Fleet <span class="accent">Management</span></h2>
        <p>Everything you need to manage nodes at scale - from one to hundreds.</p>
      </div>
      <div class="ref-grid reveal" style="--stagger: 0; grid-template-columns: repeat(3, 1fr); max-width: 780px; margin: var(--space-xl) auto 0;">
        <div class="ref-card">
          <div class="ref-card-name">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: -2px; margin-right: 4px;"><polyline points="4 17 10 11 4 5"/><line x1="12" y1="19" x2="20" y2="19"/></svg>
            CLI Tool
          </div>
          <p>28 commands with true color output. Discover, read, write, tag, configure, monitor - all from the terminal.</p>
        </div>
        <div class="ref-card">
          <div class="ref-card-name">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: -2px; margin-right: 4px;"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"/><line x1="8" y1="21" x2="16" y2="21"/><line x1="12" y1="17" x2="12" y2="21"/></svg>
            Web Dashboard
          </div>
          <p>Single HTML file. Connects via NATS WebSocket. Live node cards, actuator controls, event log, tag filtering.</p>
        </div>
        <div class="ref-card">
          <div class="ref-card-name">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: -2px; margin-right: 4px;"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>
            Events &amp; Health
          </div>
          <p>Threshold events with edge detection and cooldown. Periodic heartbeats with heap, RSSI, uptime. Dead node detection.</p>
        </div>
      </div>
      <div style="text-align: center; margin-top: var(--space-xl);">
        <a href="fleet.html" class="btn btn-outline reveal" style="--stagger: 1">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><polyline points="4 17 10 11 4 5"/><line x1="12" y1="19" x2="20" y2="19"/></svg>
          Fleet Management &rarr;
        </a>
      </div>
    </div>
  </section>

  <!-- The NATS Protocol -->
  <section id="hal-protocol">
    <div class="container">
      <div class="section-header reveal">
        <h2>Under the Hood: <span class="accent">NATS Subjects</span></h2>
        <p>The <a href="fleet.html" style="color: var(--accent);">CLI</a>, <a href="web-ui.html" style="color: var(--accent);">web UI</a>, and <a href="fleet.html" style="color: var(--accent);">dashboard</a> are convenience layers. Underneath, every operation is a simple NATS subject. This means you can script IOnode in any language with a NATS client.</p>
      </div>

      <div class="specs-wrapper reveal" style="--stagger: 0">
        <table class="specs-table">
          <tbody>
            <tr><th style="color: var(--text-muted); font-weight: 400; font-family: var(--font-body);" colspan="2"><em>GPIO &amp; Peripherals</em></th></tr>
            <tr><th>{name}.hal.gpio.{pin}.get</th><td>Read pin &rarr; <code>0</code> or <code>1</code></td></tr>
            <tr><th>{name}.hal.gpio.{pin}.set</th><td>Write pin &rarr; <code>ok</code></td></tr>
            <tr><th>{name}.hal.adc.{pin}.read</th><td>12-bit ADC &rarr; <code>0</code>–<code>4095</code></td></tr>
            <tr><th>{name}.hal.pwm.{pin}.set</th><td>8-bit PWM &rarr; <code>ok</code></td></tr>
            <tr><th>{name}.hal.uart.read / write</th><td>Serial bridge (requires serial_text device)</td></tr>
            <tr><th style="color: var(--text-muted); font-weight: 400; font-family: var(--font-body);" colspan="2"><em>I2C</em></th></tr>
            <tr><th>{name}.hal.i2c.scan</th><td>Scan bus &rarr; array of addresses</td></tr>
            <tr><th>{name}.hal.i2c.{addr}.read</th><td>Read register bytes</td></tr>
            <tr><th>{name}.hal.i2c.{addr}.write</th><td>Write register bytes</td></tr>
            <tr><th>{name}.hal.i2c.recover</th><td>Bus recovery (9&times; SCL toggle)</td></tr>
            <tr><th style="color: var(--text-muted); font-weight: 400; font-family: var(--font-body);" colspan="2"><em>Registered Devices</em></th></tr>
            <tr><th>{name}.hal.{dev}</th><td>Read sensor or actuator state</td></tr>
            <tr><th>{name}.hal.{dev}.set</th><td>Set actuator value &rarr; <code>ok</code></td></tr>
            <tr><th>{name}.hal.{dev}.info</th><td>JSON: name, kind, value, pin, unit</td></tr>
            <tr><th style="color: var(--text-muted); font-weight: 400; font-family: var(--font-body);" colspan="2"><em>Discovery &amp; System</em></th></tr>
            <tr><th>_ion.discover</th><td>All nodes respond with capabilities</td></tr>
            <tr><th>{name}.capabilities</th><td>Single node capabilities</td></tr>
            <tr><th>{name}.hal.system.*</th><td>Chip temp, heap, uptime, RSSI, reset reason</td></tr>
            <tr><th>{name}.hal.device.list</th><td>JSON array of all registered devices</td></tr>
          </tbody>
        </table>
      </div>

      <p class="code-label reveal" style="--stagger: 1; text-align: center; margin-top: var(--space-lg);">
        Full protocol reference on <a href="https://github.com/M64GitHub/IOnode/blob/main/docs/NATS-API.md" target="_blank" rel="noopener" style="color: var(--accent);">GitHub</a>.
      </p>
    </div>
  </section>

  <!-- Chip Compatibility -->
  <section id="chips">
    <div class="container">
      <div class="section-header reveal">
        <h2>Chip <span class="accent">Compatibility</span></h2>
        <p>All targets use a 2MB partition layout. IOnode is lean, ~202KB free heap.</p>
      </div>
      <div class="specs-wrapper reveal">
        <table class="specs-table">
          <tbody>
            <tr><th>ESP32-C6</th><td>Default target &middot; USB-CDC serial &middot; RGB LED &middot; RISC-V</td></tr>
            <tr><th>ESP32-S3</th><td>More RAM &middot; RGB LED &middot; Dual-core Xtensa</td></tr>
            <tr><th>ESP32-C3</th><td>Smallest, cheapest &middot; RISC-V &middot; No on-die temp on some variants</td></tr>
            <tr><th>ESP32</th><td>Classic &middot; Dual-core Xtensa &middot; No on-die temp sensor</td></tr>
          </tbody>
        </table>
      </div>
      <div class="specs-wrapper reveal" style="margin-top: var(--space-xl);">
        <table class="specs-table">
          <tbody>
            <tr><th>Partition</th><td>app0 (1.69 MB) + spiffs (256 KB) + nvs (20 KB)</td></tr>
            <tr><th>Free Heap</th><td>~202 KB</td></tr>
            <tr><th>Framework</th><td>Arduino + PlatformIO (pioarduino)</td></tr>
          </tbody>
        </table>
      </div>
    </div>
  </section>

  <!-- Bottom CTA -->
  <section class="github-cta">
    <div class="container">
      <h2 class="reveal">See what it can <span class="accent">sense.</span></h2>
      <div class="hero-ctas" style="justify-content: center;">
        <a href="flash.html" class="btn btn-primary reveal" style="--stagger: 1">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>
          Flash from Browser
        </a>
        <a href="sensors.html" class="btn btn-outline reveal" style="--stagger: 2">
          Sensors &amp; Displays &rarr;
        </a>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-logo">
        <img src="assets/logo.svg" width="28" height="28" alt="" aria-hidden="true">
        <span>IOnode</span>
      </div>
      <nav class="footer-links" aria-label="Footer navigation">
        <a href="index.html">Home</a>
        <a href="learn-more.html">Learn More</a>
        <a href="sensors.html">Sensors</a>
        <a href="fleet.html">Fleet</a>
        <a href="web-ui.html">Web UI</a>
        <a href="openclaw-integration.html">OpenClaw</a>
        <a href="flash.html">Flash</a>
        <a href="https://github.com/M64GitHub/IOnode" target="_blank" rel="noopener">GitHub</a>
      </nav>
      <span class="footer-copy">&copy; 2026 Mario Schallner</span>
      <div class="footer-ecosystem">Part of the WireClaw ecosystem - <a href="https://wireclaw.io" target="_blank" rel="noopener">wireclaw.io</a></div>
    </div>
  </footer>

  <script defer src="js/nav.js"></script>
  <script defer src="js/scroll-reveal.js"></script>
</body>
</html>
